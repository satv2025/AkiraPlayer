@import url("https://satvplus.com.ar/css/fonts/hbomaxsans/hbomaxsans.css");

:root {
    --akira-grad: linear-gradient(90deg, #00eaff, #2563eb);
    --akira-track: hsla(0, 0%, 100%, 0.24);
    --akira-track-strong: hsla(0, 0%, 100%, 0.4);
    --akira-thumb-blue: #2563eb;
    --akira-volume-percent: 100%;
    --akira-progress-bleed: 4px;

    /* ===== Overlay prev/next anclado visualmente al center cluster ===== */
    --akira-step-popover-bottom-desktop: 172px;
    --akira-step-popover-bottom-tablet: 128px;
    --akira-step-popover-bottom-mobile: 96px;

    /* Popover size */
    --akira-step-popover-width: 600px;
    --akira-step-popover-gap: 16px;
    --akira-step-popover-pad-y: 14px;
    --akira-step-popover-pad-x: 14px;
    --akira-step-thumb-width: 196px;

    /* Distancia entre botón y popover */
    --akira-step-anchor-gap: 18px;

    /* Offset del centro del botón prev/next respecto al centro del center-cluster
       Desktop (53,64,82,64,53 + gaps 12) ~= 156px */
    --akira-step-btn-center-offset-desktop: 156px;
    --akira-step-btn-center-offset-tablet: 138px;
    --akira-step-btn-center-offset-mobile: 121px;

    /* Hover preview timeline */
    --akira-hover-thumb-w-desktop: 336px;
    --akira-hover-thumb-w-tablet: 240px;
    --akira-hover-thumb-w-mobile: 180px;
}

* {
    box-sizing: border-box;
    font-family: HBOMaxSans !important;
}

/* =========================================================
   BASE
   ========================================================= */

.akira-wrap {
    background: #000;
    color: #fff;
    max-width: 100%;
    width: 100%;
    outline: none;
    overflow: hidden;
    position: relative;
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
}

.akira-video {
    background: #000;
    width: 100%;
    aspect-ratio: 16 / 9;
    display: block;
    height: 100vh;
    max-height: 100%;
    object-fit: contain;
}

/* =========================================================
   GESTURE LAYER
   ========================================================= */

.akira-gesture-layer {
    position: absolute;
    inset: 0;
    z-index: 2;
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    pointer-events: none;
}

.akira-gesture-zone {
    background: transparent;
    border: 0;
    margin: 0;
    padding: 0;
    opacity: 0;
    cursor: default;
    pointer-events: auto;
}

.akira-gesture-zone.center {
    cursor: pointer;
}

/* =========================================================
   TOP OVERLAY
   ========================================================= */

.akira-top-overlay {
    position: absolute;
    inset: 0 0 auto 0;
    z-index: 11;
    display: flex;
    align-items: flex-start;
    justify-content: flex-start;
    padding: 22px 28px 30px;
    pointer-events: none;
    background: linear-gradient(
        180deg,
        rgba(0, 0, 0, 0.86),
        rgba(0, 0, 0, 0.38),
        transparent
    );
    transition: opacity 0.2s ease;
}

.akira-top-left {
    pointer-events: auto;
}

.akira-top-meta {
    min-width: 0;
    pointer-events: none;
}

.akira-channel {
    font-size: 19px;
    font-weight: 700;
    letter-spacing: 0.1em;
    margin-bottom: 8px;
    opacity: 0.82;
    text-transform: uppercase;
}

.akira-title {
    font-size: 30px;
    font-weight: 800;
    letter-spacing: -0.02em;
    line-height: 1.05;
    text-shadow: 0 2px 16px rgba(0, 0, 0, 0.45);
}

.akira-back-btn {
    border-radius: 999px;
    font-size: 24px;
    width: 48px;
    height: 48px;
    line-height: 1;
    padding-bottom: 0.5em;
    padding-right: 0.3em;
}

/* =========================================================
   FEEDBACK
   ========================================================= */

.akira-feedback {
    position: absolute;
    top: 50%;
    left: 50%;
    z-index: 14;
    transform: translate(-50%, -50%);
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.15s ease;
}

.akira-feedback.show {
    opacity: 1;
}

.akira-feedback-pill {
    background: rgba(0, 0, 0, 0.78);
    border: 1px solid hsla(0, 0%, 100%, 0.16);
    border-radius: 999px;
    font-size: 16px;
    font-weight: 700;
    padding: 14px 18px;
}

/* =========================================================
   OVERLAY / MODALS
   ========================================================= */

.akira-overlay-shell {
    position: absolute;
    inset: 0;
    z-index: 15;
    background: rgba(0, 0, 0, 0.42);
}

.akira-modal {
    position: absolute;
    top: 50%;
    left: 50%;
    z-index: 16;
    transform: translate(-50%, -50%);
    width: min(1100px, calc(100vw - 32px));
    height: min(78vh, 760px);
    display: grid;
    grid-template-rows: auto 1fr;
    overflow: hidden;
    background: hsla(0, 0%, 5%, 0.96);
    border: 1px solid hsla(0, 0%, 100%, 0.08);
    border-radius: 0.25em;
    box-shadow: 0 12px 34px rgba(0, 0, 0, 0.38);
}

.akira-modal-reco {
    width: min(1200px, calc(100vw - 32px));
    height: min(82vh, 820px);
}

.akira-modal-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    padding: 14px;
    border-bottom: 1px solid hsla(0, 0%, 100%, 0.08);
}

.akira-modal-title {
    font-size: 18px;
    font-weight: 700;
    letter-spacing: -0.02em;
}

.akira-modal-close {
    width: 38px;
    height: 38px;
    border: 0;
    border-radius: 0.25em;
    background: transparent;
    color: #fff;
    cursor: pointer;
    font-size: 18px;
    line-height: 1;
    transition: background 0.15s ease, transform 0.08s ease;
}

.akira-modal-close:hover {
    background: hsla(0, 0%, 100%, 0.1);
}

.akira-modal-close:active {
    transform: scale(0.97);
}

.akira-modal-body {
    overflow: auto;
    padding: 12px;
}

.akira-empty-state {
    min-height: 180px;
    padding: 16px;
    display: grid;
    place-items: center;
    text-align: center;
    font-size: 14px;
    color: hsla(0, 0%, 100%, 0.72);
    border: 1px dashed hsla(0, 0%, 100%, 0.12);
    border-radius: 12px;
}

/* =========================================================
   EPISODES LIST
   ========================================================= */

.akira-episode-list {
    display: grid;
    gap: 10px;
}

.akira-episode-card {
    width: 100%;
    display: grid;
    grid-template-columns: 220px 1fr;
    gap: 12px;
    padding: 10px;
    text-align: left;
    color: #fff;
    cursor: pointer;
    background: hsla(0, 0%, 100%, 0.02);
    border: 1px solid hsla(0, 0%, 100%, 0.06);
    border-radius: 0.25em;
    transition:
        background 0.15s ease,
        border-color 0.15s ease,
        transform 0.08s ease;
}

.akira-episode-card:hover {
    background: hsla(0, 0%, 100%, 0.05);
    border-color: hsla(0, 0%, 100%, 0.14);
}

.akira-episode-card:active {
    transform: scale(0.998);
}

.akira-episode-card.current {
    background: linear-gradient(
        180deg,
        rgba(37, 99, 235, 0.12),
        hsla(0, 0%, 100%, 0.02)
    );
    border-color: rgba(37, 99, 235, 0.65);
    box-shadow: inset 0 0 0 1px rgba(37, 99, 235, 0.25);
}

.akira-episode-thumb {
    width: 100%;
    aspect-ratio: 16 / 9;
    background: #0b0c10;
    border-radius: 0.25em;
    position: relative;
    overflow: hidden;
}

.akira-episode-thumb img {
    width: 100%;
    height: 100%;
    display: block;
    object-fit: cover;
}

.akira-episode-badge {
    position: absolute;
    left: 8px;
    bottom: 8px;
    display: none;
    padding: 5px 8px;
    background: rgba(0, 0, 0, 0.72);
    border: 1px solid hsla(0, 0%, 100%, 0.12);
    border-radius: 999px;
    font-size: 11px;
    font-weight: 700;
    letter-spacing: 0.04em;
}

.akira-episode-thumb-progress {
    position: absolute;
    left: 0;
    bottom: 0;
    z-index: 2;
    width: 100%;
    height: 4px;
    background: transparent;
    pointer-events: none;
}

.akira-episode-thumb-progress-fill {
    width: 0;
    height: 100%;
    background: var(--akira-grad);
    transition: width 0.18s ease;
}

.akira-episode-info {
    min-width: 0;
    display: grid;
    align-content: start;
    gap: 7px;
}

.akira-episode-title-row {
    min-width: 0;
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: 8px;
}

.akira-episode-title {
    font-size: 16px;
    font-weight: 700;
    letter-spacing: -0.01em;
    line-height: 1.25;
}

.akira-episode-current-pill {
    display: inline-flex;
    align-items: center;
    white-space: nowrap;
    padding: 4px 8px;
    background: rgba(37, 99, 235, 0.18);
    border: 1px solid rgba(37, 99, 235, 0.55);
    border-radius: 999px;
    color: #dbeafe;
    font-size: 11px;
    font-weight: 700;
}

.akira-episode-synopsis {
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 3;
    line-clamp: 3;
    overflow: hidden;
    color: hsla(0, 0%, 100%, 0.78);
    font-size: 13px;
    line-height: 1.38;
}

.akira-episode-meta {
    color: hsla(0, 0%, 100%, 0.62);
    font-size: 12px;
    font-variant-numeric: tabular-nums;
}

/* =========================================================
   RECOMMENDATIONS
   ========================================================= */

.akira-reco-grid {
    display: grid;
    gap: 12px;
    grid-template-columns: repeat(5, minmax(0, 1fr));
}

.akira-reco-card {
    display: grid;
    align-content: start;
    gap: 8px;
    padding: 10px;
    text-align: left;
    color: #fff;
    cursor: pointer;
    background: hsla(0, 0%, 100%, 0.02);
    border: 1px solid hsla(0, 0%, 100%, 0.06);
    border-radius: 0.25em;
    transition:
        background 0.15s ease,
        border-color 0.15s ease,
        transform 0.08s ease;
}

.akira-reco-card:hover {
    background: hsla(0, 0%, 100%, 0.05);
    border-color: hsla(0, 0%, 100%, 0.14);
}

.akira-reco-card:active {
    transform: scale(0.99);
}

.akira-reco-poster {
    position: relative;
    width: 100%;
    aspect-ratio: 2 / 3;
    background: #0b0c10;
    border-radius: 0.25em;
    overflow: hidden;
}

.akira-reco-poster img {
    width: 100%;
    height: 100%;
    display: block;
    object-fit: cover;
}

.akira-reco-type {
    position: absolute;
    top: 8px;
    left: 8px;
    padding: 4px 7px;
    background: rgba(0, 0, 0, 0.72);
    border: 1px solid hsla(0, 0%, 100%, 0.12);
    border-radius: 999px;
    font-size: 10px;
    font-weight: 700;
    letter-spacing: 0.04em;
}

.akira-reco-title {
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 2;
    line-clamp: 2;
    overflow: hidden;
    font-size: 14px;
    font-weight: 700;
    line-height: 1.28;
}

.akira-reco-synopsis {
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: 3;
    line-clamp: 3;
    overflow: hidden;
    color: hsla(0, 0%, 100%, 0.72);
    font-size: 12px;
    line-height: 1.32;
}

/* =========================================================
   CONTROLS
   ========================================================= */

.akira-controls {
    position: absolute;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 12;
    padding: 14px 20px 18px;
    background: linear-gradient(
        0deg,
        rgba(0, 0, 0, 0.9),
        rgba(0, 0, 0, 0.5),
        transparent
    );
    transition: opacity 0.2s ease, transform 0.2s ease;
    overflow: visible !important; /* clave para popovers */
}

.akira-wrap.controls-hidden .akira-controls {
    opacity: 0;
    pointer-events: none;
    transform: translateY(10px);
}

.akira-wrap.controls-hidden .akira-top-overlay {
    opacity: 0;
}

.akira-wrap.controls-visible .akira-controls,
.akira-wrap.controls-visible .akira-top-overlay {
    opacity: 1;
}

/* =========================================================
   PROGRESS
   ========================================================= */

.akira-progress-row {
    display: grid;
    grid-template-columns: auto 1fr auto;
    align-items: center;
    gap: 0;
    margin-bottom: 16px;
}

.akira-time {
    min-width: 75px;
    text-align: center;
    font-size: 17px;
    font-weight: 500;
    font-variant-numeric: tabular-nums;
    opacity: 1;
}

.akira-progress-wrap {
    position: relative;
    display: flex;
    align-items: center;
    min-width: 0;
    height: 28px;
    overflow: visible;
}

.akira-progress-visual {
    position: absolute;
    left: calc(var(--akira-progress-bleed) * -1);
    right: calc(var(--akira-progress-bleed) * 0);
    width: auto;
    height: 4.3px;
    overflow: hidden;
    pointer-events: none;
    transition: height 0.12s ease;
}

.akira-progress-track,
.akira-progress-buffered,
.akira-progress-played {
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
}

.akira-progress-track {
    right: 0;
    background: hsla(0, 0%, 100%, 0.24);
}

.akira-progress-buffered {
    width: 0;
    background: hsla(0, 0%, 100%, 0.4);
}

.akira-progress-played {
    width: 0;
    background: var(--akira-grad);
}

.akira-progress {
    position: relative;
    z-index: 2;
    width: calc(100% + var(--akira-progress-bleed) * 2);
    height: 28px;
    margin: 0;
    margin-left: calc(var(--akira-progress-bleed) * -1);
    background: transparent;
    cursor: pointer;
    opacity: 1;
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
}

.akira-progress::-webkit-slider-runnable-track {
    height: 28px;
    background: transparent;
    border: 0;
}

.akira-progress::-moz-range-track,
.akira-progress::-moz-range-progress {
    height: 28px;
    background: transparent;
    border: 0;
}

.akira-progress::-webkit-slider-thumb {
    width: 18px;
    height: 18px;
    margin-top: 4.89px;
    border: 0;
    border-radius: 999px;
    background: #2563eb;
    opacity: 1;
    appearance: none;
    -webkit-appearance: none;
    transition:
        width 0.12s ease,
        height 0.12s ease,
        margin-top 0.12s ease;
}

.akira-progress::-moz-range-thumb {
    width: 18px;
    height: 18px;
    border: 0;
    border-radius: 999px;
    background: #2563eb;
    opacity: 1;
    transition: width 0.12s ease, height 0.12s ease;
}

.akira-progress-wrap:hover .akira-progress-visual {
    height: 8px;
}

.akira-progress-wrap:hover .akira-progress::-webkit-slider-thumb {
    width: 22px;
    height: 22px;
    margin-top: 3px;
}

.akira-progress-wrap:hover .akira-progress::-moz-range-thumb {
    width: 22px;
    height: 22px;
}

/* =========================================================
   HOVER PREVIEW (TIMELINE) - 16:9 SI O SI + AGRANDADO
   ========================================================= */

.akira-thumb-preview {
    position: absolute;
    bottom: 34px;
    left: 0;
    z-index: 55;
    display: flex !important;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    transform: translateX(-50%);
    pointer-events: none;
}

.akira-thumb-image {
    width: var(--akira-hover-thumb-w-desktop) !important;
    aspect-ratio: 16 / 9 !important;
    height: auto !important;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    background: #0b0c10;
    border-radius: 6px;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.35);
}

.akira-thumb-image img {
    width: 100%;
    height: 100%;
    display: block;
    object-fit: cover;
    aspect-ratio: 16 / 9;
}

.akira-thumb-sprite {
    background-repeat: no-repeat;
    image-rendering: auto;
    max-width: 100%;
    max-height: 100%;
}

.akira-thumb-empty {
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, #191919, #0f0f0f);
}

.akira-thumb-time {
    width: 100%;
    margin-top: -0.45em;
    padding: 10px 12px;
    background: #0b0c10;
    color: #fff;
    text-align: center;
    font-size: 17px;
    font-weight: 400;
    line-height: 1;
}

/* =========================================================
   TOOLBAR
   ========================================================= */

.akira-toolbar {
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    align-items: center;
    gap: 14px;
    margin-top: -0.7em;
    position: relative;
    z-index: 2;
}

.akira-left {
    justify-self: start;
    min-width: 0;
    margin-left: 1.3em;
    display: flex;
    flex-direction: row-reverse;
    flex-wrap: wrap;
    align-items: center;
    gap: 10px;
}

.akira-center-cluster {
    justify-self: center;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    position: relative; /* referencia visual */
}

.akira-right {
    justify-self: end;
    margin-right: 0.5em;
    display: flex;
    align-items: center;
    gap: 10px;
}

/* =========================================================
   BUTTONS
   ========================================================= */

.akira-text-btn {
    height: 42px;
    padding: 0 14px;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    white-space: nowrap;
    color: #fff;
    background: hsla(0, 0%, 100%, 0.06);
    border: none;
    border-radius: 12px;
    cursor: pointer;
    font-size: 14px;
    font-weight: 600;
    transition:
        background 0.15s ease,
        transform 0.08s ease,
        border-color 0.15s ease;
}

.akira-text-btn:hover {
    background: #fff;
    color: #000;
}

.akira-text-btn:active {
    transform: scale(0.98);
}

.akira-text-btn:disabled {
    opacity: 0.45;
    cursor: not-allowed;
    pointer-events: none;
}

.akira-text-btn-count {
    display: none !important;
    min-width: 18px;
    height: 18px;
    padding: 0 6px;
    align-items: center;
    justify-content: center;
    background: rgba(37, 99, 235, 0.9);
    border-radius: 999px;
    color: #fff;
    font-size: 10px;
    font-weight: 800;
}

.akira-ghost-btn,
.akira-icon-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    color: #fff;
    background: transparent;
    border: 0;
    border-radius: 0.25em;
    cursor: pointer;
    transition:
        background 0.15s ease,
        opacity 0.15s ease,
        transform 0.08s ease;
}

.akira-ghost-btn:hover,
.akira-icon-btn:hover {
    transform: scale(1.2);
}

.akira-icon-btn:hover {
    border-radius: 0.25em;
}

.akira-ghost-btn:active,
.akira-icon-btn:active {
    transform: scale(0.97);
}

.akira-icon-btn:disabled {
    opacity: 0.42;
    cursor: not-allowed;
    pointer-events: none;
}

.akira-ghost-btn {
    width: 42px;
    height: 42px;
}

.akira-icon-btn.lg {
    width: 53px;
    height: 52px;
}

.akira-icon-btn.xl {
    width: 64px;
    height: 64px;
}

.akira-icon-btn.xxl {
    width: 82px;
    height: 82px;
    margin-top: 0.2em;
    border-radius: 999px;
}

.akira-icon-btn.emphasized,
.akira-icon-btn.emphasized:hover {
    background: transparent;
}

.akira-icon-btn img {
    display: block;
    object-fit: contain;
    pointer-events: none;
    opacity: 0.98;
    filter: brightness(0) saturate(100%) invert(97%) sepia(0) saturate(7488%)
        hue-rotate(184deg) brightness(105%) contrast(105%);
}

img.playSVG {
    margin-right: -0.4em;
}

.akira-icon-btn.lg img {
    width: 54px;
    height: auto;
}

.akira-icon-btn.xl img,
.akira-icon-btn.xxl img {
    width: 51px;
    height: auto;
}

.akira-icon-btn.xxl img {
    width: 56px;
    height: auto;
    margin-top: -0.3em;
}

.akira-center-cluster .akira-icon-btn.lg img {
    width: 67px !important;
    height: auto !important;
    margin-top: 1.6em !important;
}

/* =========================================================
   VOLUME
   ========================================================= */

.akira-volume {
    position: relative;
    display: flex;
    align-items: center;
}

.akira-volume .akira-icon-btn.lg {
    width: 77px !important;
    padding-right: 0;
}

.akira-volume button img {
    width: 105px !important;
    height: auto;
}

.akira-volume:has(.akira-volume-pop.show) > .akira-icon-btn.lg,
.akira-volume > .akira-icon-btn:hover {
    background: hsla(0, 0%, 100%, 0.1);
    border-radius: 0.25em;
    transform: scale(1.2);
}

.akira-volume:has(.akira-volume-pop.show) > button {
    background: rgba(255, 255, 255, 0);
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
    border-top-right-radius: 0.25em;
    border-bottom-right-radius: 0.25em;
}

.akira-volume-pop {
    position: absolute;
    right: 99%;
    bottom: 0;
    width: 160px;
    height: 52px;
    padding: 14px;
    background: transparent;
    border-radius: 0.25em;
    opacity: 0;
    pointer-events: none;
    transform: translateY(0);
    transition: opacity 0.15s ease, transform 0.15s ease;
}

.akira-volume-pop.show {
    opacity: 1;
    pointer-events: auto;
    border-radius: 0.25em 0 0 0.25em;
}

.akira-volume-slider {
    width: 100%;
    height: 18px;
    background: transparent;
    cursor: pointer;
    accent-color: #2563eb;
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
}

.akira-volume-slider::-webkit-slider-runnable-track {
    height: 5px;
    background:
        linear-gradient(#fff, #fff) 0 0 / var(--akira-volume-percent) 100% no-repeat,
        hsla(0, 0%, 100%, 0.24);
}

.akira-volume-slider::-webkit-slider-thumb {
    width: 18px;
    height: 18px;
    margin-top: -6.5px;
    margin-right: -0.3em;
    border: 0;
    border-radius: 999px;
    background: #fff;
    cursor: pointer;
    appearance: none;
    -webkit-appearance: none;
}

.akira-volume-slider::-moz-range-track {
    height: 5px;
    background: hsla(0, 0%, 100%, 0.24);
    border: 0;
}

.akira-volume-slider::-moz-range-progress {
    height: 5px;
    background: #fff;
    border: 0;
}

.akira-volume-slider::-moz-range-thumb {
    width: 18px;
    height: 18px;
    border: 0;
    border-radius: 999px;
    background: #2563eb;
    cursor: pointer;
}

/* =========================================================
   MENUS
   ========================================================= */

.akira-menu-wrap {
    position: relative;
}

.akira-menu {
    position: absolute;
    right: 0;
    bottom: 58px;
    min-width: 220px;
    max-height: 280px;
    overflow: auto;
    padding: 8px;
    display: flex;
    flex-direction: column;
    gap: 4px;
    background: hsla(0, 0%, 5%, 0.96);
    border: 1px solid hsla(0, 0%, 100%, 0.08);
    border-radius: 0.25em;
    box-shadow: 0 12px 34px rgba(0, 0, 0, 0.38);
}

.akira-menu-item {
    border: 0;
    border-radius: 0.25em;
    background: transparent;
    color: #fff;
    cursor: pointer;
    text-align: left;
    font-size: 15px;
    line-height: 1.2;
    padding: 12px;
}

.akira-menu-item:hover {
    background: hsla(0, 0%, 100%, 0.08);
}

/* =========================================================
   SEASON DROPDOWN
   ========================================================= */

.akira-season-dd {
    position: relative;
    z-index: 2;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    min-width: 0;
}

.akira-season-dd-label {
    color: hsla(0, 0%, 100%, 0.88);
    font-size: 13px;
    font-weight: 600;
    white-space: nowrap;
}

.akira-season-dd-trigger {
    height: 34px;
    min-width: 88px;
    padding: 0 10px;
    display: inline-flex;
    align-items: center;
    justify-content: space-between;
    gap: 10px;
    line-height: 1;
    color: #fff;
    background: hsla(0, 0%, 100%, 0.06);
    border: 1px solid hsla(0, 0%, 100%, 0.12);
    border-radius: 8px;
    cursor: pointer;
    font-size: 13px;
    font-weight: 700;
    transition:
        background 0.15s ease,
        border-color 0.15s ease,
        transform 0.08s ease;
}

.akira-season-dd-trigger:hover {
    background: hsla(0, 0%, 100%, 0.1);
    border-color: hsla(0, 0%, 100%, 0.2);
}

.akira-season-dd-trigger:active {
    transform: scale(0.985);
}

.akira-season-dd-trigger.open {
    background: hsla(0, 0%, 100%, 0.12);
    border-color: hsla(0, 0%, 100%, 0.22);
}

.akira-season-dd-caret {
    line-height: 1;
    opacity: 0.9;
    transition: transform 0.15s ease;
}

.akira-season-dd-trigger.open .akira-season-dd-caret {
    transform: rotate(180deg);
}

.akira-season-dd-menu {
    position: absolute;
    left: 0;
    top: calc(100% + 8px);
    z-index: 30;
    min-width: 220px;
    padding: 8px;
    display: grid;
    gap: 4px;
    background: hsla(0, 0%, 5%, 0.96);
    border: 1px solid hsla(0, 0%, 100%, 0.08);
    border-radius: 12px;
    box-shadow: 0 12px 34px rgba(0, 0, 0, 0.38);
}

.akira-season-dd-item {
    width: 100%;
    padding: 10px 12px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 10px;
    text-align: left;
    color: #fff;
    background: transparent;
    border: 1px solid transparent;
    border-radius: 10px;
    cursor: pointer;
    transition:
        background 0.15s ease,
        border-color 0.15s ease,
        transform 0.08s ease;
}

.akira-season-dd-item:hover {
    background: hsla(0, 0%, 100%, 0.06);
    border-color: hsla(0, 0%, 100%, 0.08);
}

.akira-season-dd-item:active {
    transform: scale(0.995);
}

.akira-season-dd-item.active {
    background: linear-gradient(
        180deg,
        rgba(37, 99, 235, 0.12),
        hsla(0, 0%, 100%, 0.02)
    );
    border-color: rgba(37, 99, 235, 0.35);
}

.akira-season-dd-item-text {
    color: #fff;
    font-size: 13px;
    font-weight: 600;
}

.akira-season-dd-check {
    color: #93c5fd;
    font-size: 13px;
    font-weight: 800;
    line-height: 1;
}

/* =========================================================
   PREV/NEXT BUTTONS
   ========================================================= */

.akira-episode-step-wrap {
    position: relative;
    overflow: visible !important;
}

.akira-icon-btn.episodeStepBtn {
    border-radius: 999px;
}

.akira-icon-btn.episodeStepBtn img {
    width: 38px !important;
    height: auto !important;
    margin-top: 0 !important;
    object-fit: contain;
}

.akira-icon-btn.episodeStepBtn:disabled {
    opacity: 0.34;
    filter: saturate(0.35);
    transform: none !important;
}

/* =========================================================
   GLOBAL OVERLAY (NO TSX) - VISUALMENTE ANCLADO AL CENTER CLUSTER
   OJO: el nodo no está "dentro" del center-cluster, pero queda alineado
   por CSS con los botones prev/next.
   ========================================================= */

.akira-episode-step-overlay-layer {
    position: absolute;
    left: 0;
    right: 0;
    bottom: var(--akira-step-popover-bottom-desktop);
    height: 0; /* no empuja layout */
    pointer-events: none;
    overflow: visible;
    z-index: 60;
}

.akira-episode-step-popover {
    position: absolute;
    bottom: 0; /* misma altura exacta para prev y next */
    width: min(var(--akira-step-popover-width), calc(100vw - 24px));
    display: grid;
    grid-template-columns: var(--akira-step-thumb-width) minmax(0, 1fr);
    align-items: stretch;
    gap: var(--akira-step-popover-gap);
    padding: var(--akira-step-popover-pad-y) var(--akira-step-popover-pad-x);

    background: rgba(15, 15, 18, 0.96);
    border: 1px solid hsla(0, 0%, 100%, 0.1);
    border-radius: 16px;
    box-shadow:
        0 18px 42px rgba(0, 0, 0, 0.5),
        0 4px 12px rgba(0, 0, 0, 0.28);

    opacity: 0;
    transform: translateY(10px) scale(0.985);
    transition: opacity 180ms ease, transform 180ms ease;
    will-change: transform, opacity;
}

.akira-episode-step-popover.show {
    opacity: 1;
    transform: translateY(0) scale(1);
}

/* ===== Alineación horizontal respecto al CENTRO del center-cluster =====
   Toolbar usa 1fr auto 1fr, así que el center-cluster está centrado.
   Entonces anclamos al 50% del contenedor y aplicamos el offset del botón.
*/

/* PREV: popover a la izquierda del botón prev */
.akira-episode-step-overlay-layer.is-prev .akira-episode-step-popover {
    right: calc(
        50% + var(--akira-step-btn-center-offset-desktop) + var(--akira-step-anchor-gap)
    );
    left: auto;
    transform-origin: right bottom;
}

/* NEXT: popover a la derecha del botón next */
.akira-episode-step-overlay-layer.is-next .akira-episode-step-popover {
    left: calc(
        50% + var(--akira-step-btn-center-offset-desktop) + var(--akira-step-anchor-gap)
    );
    right: auto;
    transform-origin: left bottom;
}

/* =========================================================
   POPOVER THUMB - 16:9 SI O SI + GRANDE
   ========================================================= */

.akira-episode-step-popover .akira-episode-nav-thumb {
    width: 100%;
    aspect-ratio: 16 / 9 !important;
    height: auto !important;
    min-height: 0 !important;
    display: grid;
    place-items: center;
    overflow: hidden;
    border-radius: 12px;
    background: hsla(0, 0%, 100%, 0.05);
    border: 1px solid hsla(0, 0%, 100%, 0.08);
}

.akira-episode-step-popover .akira-episode-nav-thumb img {
    width: 100%;
    height: 100%;
    display: block;
    object-fit: cover;
    aspect-ratio: 16 / 9;
}

.akira-episode-step-popover .akira-episode-nav-thumb-empty {
    width: 100%;
    height: 100%;
    display: grid;
    place-items: center;
    font-size: 12px;
    opacity: 0.75;
    background: linear-gradient(135deg, #191919, #0f0f0f);
}

/* =========================================================
   POPOVER BODY - más aire + sinopsis en BLOCK
   ========================================================= */

.akira-episode-step-popover .akira-episode-nav-body {
    min-width: 0;
    display: grid;
    align-content: start;
    gap: 7px;
    padding-right: 2px;
}

.akira-episode-step-popover .akira-episode-nav-kicker {
    color: hsla(0, 0%, 100%, 0.76);
    font-size: 11px;
    font-weight: 700;
    letter-spacing: 0.05em;
    text-transform: uppercase;
    margin-top: 1px;
}

.akira-episode-step-popover .akira-episode-nav-title {
    color: #fff;
    font-size: 15px;
    font-weight: 800;
    line-height: 1.25;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

/* ✅ Sinopsis block (sin webkit-box) */
.akira-episode-step-popover .akira-episode-nav-synopsis {
    display: block !important;
    height: auto !important;
    overflow: visible !important;
    white-space: normal !important;

    -webkit-box-orient: initial !important;
    -webkit-line-clamp: unset !important;
    line-clamp: unset !important;

    color: hsla(0, 0%, 100%, 0.84);
    font-size: 12px;
    line-height: 1.38;
    margin-top: 1px;
}

/* =========================================================
   REGLAS LEGACY (si en algún momento usás el overlay/card viejo)
   ========================================================= */

.akira-episode-nav-overlay {
    position: absolute;
    inset: 0;
    z-index: 18;
    display: grid;
    place-items: center;
    pointer-events: none;
    padding: 16px;
}

.akira-episode-nav-card {
    width: min(760px, calc(100vw - 32px));
    display: grid;
    grid-template-columns: minmax(140px, 190px) minmax(0, 1fr);
    align-items: center;
    gap: 14px;
    padding: 12px;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    background: rgba(8, 8, 8, 0.84);
    border: 1px solid hsla(0, 0%, 100%, 0.12);
    border-radius: 0.35em;
    box-shadow: 0 12px 34px rgba(0, 0, 0, 0.42);
    opacity: 0;
    transform: translateY(8px) scale(0.985);
    transition: opacity 0.18s ease, transform 0.18s ease;
}

.akira-episode-nav-card.show {
    opacity: 1;
    transform: translateY(0) scale(1);
}

/* =========================================================
   RESPONSIVE
   ========================================================= */

@media (max-width: 1240px) {
    .akira-reco-grid {
        grid-template-columns: repeat(4, minmax(0, 1fr));
    }
}

@media (max-width: 1100px) {
    .akira-title {
        font-size: 32px;
    }

    .akira-time {
        min-width: 78px;
        font-size: 15px;
    }

    .akira-thumb-image {
        width: var(--akira-hover-thumb-w-tablet) !important;
        height: auto !important;
    }

    .akira-icon-btn.xxl {
        width: 70px;
        height: 70px;
    }

    .akira-icon-btn.xl {
        width: 56px;
        height: 56px;
    }

    .akira-icon-btn.lg {
        width: 46px;
        height: 46px;
    }

    .akira-text-btn {
        height: 40px;
        padding: 0 12px;
        font-size: 13px;
    }

    .akira-episode-card {
        grid-template-columns: 200px 1fr;
    }

    .akira-reco-grid {
        grid-template-columns: repeat(3, minmax(0, 1fr));
    }

    .akira-icon-btn.episodeStepBtn img {
        width: 32px !important;
    }

    /* Overlay prev/next más compacto */
    .akira-episode-step-overlay-layer {
        bottom: var(--akira-step-popover-bottom-tablet);
    }

    .akira-episode-step-popover {
        width: min(520px, calc(100vw - 20px));
        grid-template-columns: 172px minmax(0, 1fr);
        gap: 14px;
        padding: 12px;
    }

    .akira-episode-step-overlay-layer.is-prev .akira-episode-step-popover {
        right: calc(
            50% + var(--akira-step-btn-center-offset-tablet) + var(--akira-step-anchor-gap)
        );
    }

    .akira-episode-step-overlay-layer.is-next .akira-episode-step-popover {
        left: calc(
            50% + var(--akira-step-btn-center-offset-tablet) + var(--akira-step-anchor-gap)
        );
    }

    .akira-episode-step-popover .akira-episode-nav-title {
        font-size: 14px;
    }

    .akira-episode-step-popover .akira-episode-nav-synopsis {
        font-size: 12px;
    }

    .akira-thumb-time {
        font-size: 14px;
        padding: 8px 10px;
    }
}

@media (max-width: 900px) {
    /* Misma altura para ambos, pero más cerca del center cluster en mobile/tablet */
    .akira-episode-step-overlay-layer {
        bottom: var(--akira-step-popover-bottom-mobile);
        height: 0;
    }

    .akira-episode-step-popover {
        bottom: 0;
        width: min(420px, calc(100vw - 16px));
        grid-template-columns: 132px minmax(0, 1fr);
        gap: 12px;
        padding: 10px;
        border-radius: 14px;
    }

    .akira-episode-step-overlay-layer.is-prev .akira-episode-step-popover {
        /* En pantallas pequeñas, mejor clamp para no salir */
        right: clamp(
            8px,
            calc(50% + var(--akira-step-btn-center-offset-mobile) + 10px),
            calc(100vw - 16px)
        );
        left: auto;
    }

    .akira-episode-step-overlay-layer.is-next .akira-episode-step-popover {
        left: clamp(
            8px,
            calc(50% + var(--akira-step-btn-center-offset-mobile) + 10px),
            calc(100vw - 16px)
        );
        right: auto;
    }

    .akira-episode-step-popover .akira-episode-nav-thumb {
        aspect-ratio: 16 / 9 !important;
        height: auto !important;
    }

    .akira-episode-step-popover .akira-episode-nav-title {
        white-space: normal;
        overflow: visible;
        text-overflow: clip;
        font-size: 13px;
        line-height: 1.25;
    }

    .akira-episode-step-popover .akira-episode-nav-synopsis {
        font-size: 11px;
        line-height: 1.35;
    }

    .akira-thumb-image {
        width: var(--akira-hover-thumb-w-mobile) !important;
        aspect-ratio: 16 / 9 !important;
        height: auto !important;
    }

    .akira-thumb-time {
        font-size: 11px;
        padding: 7px 8px;
    }
}

@media (max-width: 780px) {
    .akira-top-overlay {
        padding: 14px 14px 20px;
    }

    .akira-title {
        font-size: 22px;
    }

    .akira-channel {
        margin-bottom: 5px;
        font-size: 11px;
    }

    .akira-controls {
        padding: 10px 12px 14px;
    }

    .akira-progress-row {
        gap: 8px;
        margin-bottom: 12px;
    }

    .akira-time {
        min-width: 58px;
        font-size: 12px;
    }

    .akira-thumb-image {
        width: var(--akira-hover-thumb-w-mobile) !important;
        height: auto !important;
    }

    .akira-thumb-time {
        font-size: 11px;
    }

    .akira-toolbar {
        grid-template-columns: 1fr;
        gap: 10px;
    }

    .akira-left {
        order: 1;
        justify-content: flex-start;
    }

    .akira-right {
        order: 2;
        justify-content: flex-end;
    }

    .akira-center-cluster {
        order: 3;
        justify-content: center;
    }

    .akira-icon-btn.xxl {
        width: 58px;
        height: 58px;
    }

    .akira-icon-btn.xl {
        width: 48px;
        height: 48px;
    }

    .akira-icon-btn.lg {
        width: 40px;
        height: 40px;
    }

    .akira-icon-btn.xxl img {
        width: 28px;
        height: 28px;
    }

    .akira-icon-btn.xl img {
        width: 24px;
        height: 24px;
    }

    .akira-icon-btn.lg img {
        width: 20px;
        height: 20px;
    }

    .akira-text-btn {
        height: 36px;
        padding: 0 10px;
        border-radius: 0.25em;
        font-size: 12px;
    }

    .akira-volume-pop {
        width: 120px;
    }

    .akira-menu {
        bottom: 46px;
        min-width: 170px;
    }

    .akira-menu-item {
        padding: 10px;
        font-size: 13px;
    }

    .akira-modal,
    .akira-modal-reco {
        width: calc(100vw - 16px);
        height: min(86vh, 760px);
    }

    .akira-modal-header {
        padding: 12px;
    }

    .akira-modal-title {
        font-size: 15px;
    }

    .akira-modal-close {
        width: 34px;
        height: 34px;
        font-size: 16px;
    }

    .akira-modal-body {
        padding: 10px;
    }

    .akira-episode-card {
        grid-template-columns: 1fr;
        gap: 8px;
        padding: 8px;
    }

    .akira-episode-title {
        font-size: 14px;
    }

    .akira-episode-synopsis {
        -webkit-line-clamp: 4;
        line-clamp: 4;
        font-size: 12px;
    }

    .akira-reco-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 10px;
    }

    .akira-reco-card {
        padding: 8px;
    }

    .akira-reco-title {
        font-size: 13px;
    }

    .akira-reco-synopsis {
        -webkit-line-clamp: 2;
        line-clamp: 2;
        font-size: 11px;
    }

    .akira-season-dd {
        gap: 6px;
    }

    .akira-season-dd-label {
        font-size: 12px;
    }

    .akira-season-dd-trigger {
        height: 32px;
        min-width: 74px;
        padding: 0 8px;
        font-size: 12px;
        border-radius: 8px;
    }

    .akira-season-dd-menu {
        min-width: 180px;
        padding: 6px;
        border-radius: 10px;
    }

    .akira-season-dd-item {
        padding: 9px 10px;
        border-radius: 8px;
    }

    .akira-season-dd-item-text {
        font-size: 12px;
    }

    .akira-icon-btn.episodeStepBtn img {
        width: 22px !important;
    }

    /* Mobile: popovers más chicos pero cómodos y misma altura */
    .akira-episode-step-overlay-layer {
        bottom: var(--akira-step-popover-bottom-mobile);
    }

    .akira-episode-step-popover {
        width: min(420px, calc(100vw - 12px));
        grid-template-columns: 132px minmax(0, 1fr);
        gap: 10px;
        padding: 10px;
    }

    /* En mobile extremo, mejor pegarlos a bordes para no romper viewport */
    .akira-episode-step-overlay-layer.is-prev .akira-episode-step-popover {
        right: auto;
        left: 6px;
        transform-origin: left bottom;
    }

    .akira-episode-step-overlay-layer.is-next .akira-episode-step-popover {
        left: auto;
        right: 6px;
        transform-origin: right bottom;
    }
}

/* =========================================================
   HARD OVERRIDES PARA ASEGURAR 16:9 SI O SI
   (por si reglas viejas pisan height)
   ========================================================= */

.akira-thumb-image,
.akira-thumb-image img,
.akira-episode-step-popover .akira-episode-nav-thumb,
.akira-episode-step-popover .akira-episode-nav-thumb img {
    max-height: none !important;
}

/* =========================================================
   FIX: POPOVERS PREV/NEXT "DENTRO" DEL BOX DE .akira-center-cluster (solo CSS)
   ========================================================= */

/* Ajustes finos */
:root {
  /* Caja visual del center cluster (desktop) */
  --akira-center-cluster-visual-width: 760px;

  /* Distancia vertical del popover respecto al center-cluster */
  --akira-step-popover-bottom: 164px;

  /* Tamaño del popover (agrandado) */
  --akira-step-popover-width: 560px;
  --akira-step-popover-pad-y: 14px;
  --akira-step-popover-pad-x: 14px;
  --akira-step-popover-gap: 14px;

  /* Thumb 16:9 sí o sí */
  --akira-step-thumb-width: 184px;

  /* Separación horizontal respecto a los bordes del "box" del center-cluster */
  --akira-step-edge-gap: 6px;

  /* Hover preview timeline 16:9 agrandado */
  --akira-hover-thumb-width: 336px;
}

/* Base de toolbar / center-cluster como referencia visual */
.akira-toolbar {
  position: relative;
  overflow: visible;
}

.akira-center-cluster {
  position: relative;
  z-index: 2;
  overflow: visible;
}

/* ---------------------------------------------------------
   CAPA GLOBAL DEL OVERLAY:
   Se centra y se limita al "box visual" del center cluster
   --------------------------------------------------------- */
.akira-episode-step-overlay-layer {
  position: absolute !important;
  left: 50% !important;
  right: auto !important;
  transform: translateX(-50%);
  width: min(var(--akira-center-cluster-visual-width), calc(100vw - 24px));
  height: 0 !important; /* no empuja layout */
  bottom: var(--akira-step-popover-bottom) !important;
  overflow: visible !important;
  pointer-events: none;
  z-index: 60;
}

/* ---------------------------------------------------------
   POPOVER BASE (agrandado)
   --------------------------------------------------------- */
.akira-episode-step-popover {
  position: absolute !important;
  bottom: 0 !important; /* misma altura exacta para prev y next */
  width: min(var(--akira-step-popover-width), calc(100vw - 24px));
  height: auto !important;

  display: grid !important;
  grid-template-columns: var(--akira-step-thumb-width) minmax(0, 1fr);
  align-items: stretch;
  gap: var(--akira-step-popover-gap);
  padding: var(--akira-step-popover-pad-y) var(--akira-step-popover-pad-x);

  background: rgba(15, 15, 18, 0.96);
  border: 1px solid hsla(0, 0%, 100%, 0.10);
  border-radius: 16px;
  box-shadow:
    0 18px 42px rgba(0, 0, 0, 0.5),
    0 4px 12px rgba(0, 0, 0, 0.28);

  opacity: 0;
  transform: translateY(10px) scale(0.985);
  transition: opacity 180ms ease, transform 180ms ease;
  will-change: transform, opacity;
}

.akira-episode-step-popover.show {
  opacity: 1;
  transform: translateY(0) scale(1);
}

/* ---------------------------------------------------------
   ANCLAJE "DENTRO DEL BOX" DEL CENTER-CLUSTER
   prev => pegado al lado izquierdo del box
   next => pegado al lado derecho del box
   --------------------------------------------------------- */
.akira-episode-step-overlay-layer.is-prev .akira-episode-step-popover {
  left: var(--akira-step-edge-gap) !important;
  right: auto !important;
  transform-origin: left bottom;
}

.akira-episode-step-overlay-layer.is-next .akira-episode-step-popover {
  right: var(--akira-step-edge-gap) !important;
  left: auto !important;
  transform-origin: right bottom;
}

/* ---------------------------------------------------------
   THUMB DEL POPOVER - 16:9 SI O SI
   --------------------------------------------------------- */
.akira-episode-step-popover .akira-episode-nav-thumb {
  width: 100% !important;
  aspect-ratio: 16 / 9 !important;
  height: auto !important;
  min-height: 0 !important;
  overflow: hidden;
  border-radius: 12px;
  display: grid;
  place-items: center;
  background: hsla(0, 0%, 100%, 0.05);
  border: 1px solid hsla(0, 0%, 100%, 0.08);
}

.akira-episode-step-popover .akira-episode-nav-thumb img {
  width: 100% !important;
  height: 100% !important;
  display: block;
  object-fit: cover !important;
  aspect-ratio: 16 / 9 !important;
}

.akira-episode-step-popover .akira-episode-nav-thumb-empty {
  width: 100%;
  height: 100%;
  display: grid;
  place-items: center;
  font-size: 12px;
  opacity: 0.75;
  background: linear-gradient(135deg, #191919, #0f0f0f);
}

/* ---------------------------------------------------------
   BODY DEL POPOVER (más aire)
   --------------------------------------------------------- */
.akira-episode-step-popover .akira-episode-nav-body {
  min-width: 0;
  display: grid;
  align-content: start;
  gap: 7px;
  padding-right: 2px;
}

.akira-episode-step-popover .akira-episode-nav-kicker {
  color: hsla(0, 0%, 100%, 0.76);
  font-size: 11px;
  font-weight: 700;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  margin-top: 1px;
}

.akira-episode-step-popover .akira-episode-nav-title {
  color: #fff;
  font-size: 15px;
  font-weight: 800;
  line-height: 1.25;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* ✅ Sinopsis block, sin webkit-box */
.akira-episode-step-popover .akira-episode-nav-synopsis {
  display: block !important;
  height: auto !important;
  overflow: visible !important;
  white-space: normal !important;

  -webkit-line-clamp: unset !important;
  line-clamp: unset !important;
  -webkit-box-orient: initial !important;

  color: hsla(0, 0%, 100%, 0.84);
  font-size: 12px;
  line-height: 1.38;
  margin-top: 1px;
}

/* ---------------------------------------------------------
   HOVER PREVIEW TIMELINE - 16:9 SI O SI + grande
   --------------------------------------------------------- */
.akira-thumb-preview {
  bottom: 34px;
  z-index: 55;
}

.akira-thumb-image {
  width: var(--akira-hover-thumb-width) !important;
  aspect-ratio: 16 / 9 !important;
  height: auto !important;

  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;

  background: #0b0c10;
  border-radius: 6px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.35);
}

.akira-thumb-image img {
  width: 100% !important;
  height: 100% !important;
  display: block;
  object-fit: cover !important;
  aspect-ratio: 16 / 9 !important;
}

.akira-thumb-sprite {
  max-width: 100%;
  max-height: 100%;
  image-rendering: auto;
}

.akira-thumb-time {
  width: 100%;
  margin-top: -0.45em;
  padding: 10px 12px;
  font-size: 17px;
  line-height: 1;
}

/* ---------------------------------------------------------
   Prev/Next buttons (un poco más grandes)
   --------------------------------------------------------- */
.akira-episode-step-wrap {
  position: relative;
  overflow: visible !important;
}

.akira-icon-btn.episodeStepBtn img {
  width: 38px !important;
  height: auto !important;
  margin-top: 0 !important;
  object-fit: contain;
}

/* ---------------------------------------------------------
   Tablet
   --------------------------------------------------------- */
@media (max-width: 1100px) {
  :root {
    --akira-center-cluster-visual-width: 660px;
    --akira-step-popover-bottom: 130px;
    --akira-step-popover-width: 500px;
    --akira-step-thumb-width: 164px;
    --akira-step-popover-pad-y: 12px;
    --akira-step-popover-pad-x: 12px;
    --akira-step-popover-gap: 12px;
    --akira-hover-thumb-width: 240px;
  }

  .akira-episode-step-popover .akira-episode-nav-title {
    font-size: 14px;
  }

  .akira-episode-step-popover .akira-episode-nav-synopsis {
    font-size: 12px;
  }

  .akira-thumb-time {
    font-size: 14px;
    padding: 8px 10px;
  }

  .akira-icon-btn.episodeStepBtn img {
    width: 32px !important;
  }
}

/* ---------------------------------------------------------
   Mobile / small tablet
   (mantiene misma altura para ambos)
   --------------------------------------------------------- */
@media (max-width: 900px) {
  :root {
    --akira-center-cluster-visual-width: 420px;
    --akira-step-popover-bottom: 92px;
    --akira-step-popover-width: 400px;
    --akira-step-thumb-width: 132px;
    --akira-step-popover-pad-y: 10px;
    --akira-step-popover-pad-x: 10px;
    --akira-step-popover-gap: 10px;
    --akira-hover-thumb-width: 180px;
    --akira-step-edge-gap: 4px;
  }

  .akira-episode-step-overlay-layer {
    width: min(var(--akira-center-cluster-visual-width), calc(100vw - 12px));
  }

  .akira-episode-step-popover {
    width: min(var(--akira-step-popover-width), calc(100vw - 12px));
    grid-template-columns: var(--akira-step-thumb-width) minmax(0, 1fr);
    border-radius: 14px;
  }

  .akira-episode-step-popover .akira-episode-nav-title {
    white-space: normal;
    overflow: visible;
    text-overflow: clip;
    font-size: 13px;
    line-height: 1.25;
  }

  .akira-episode-step-popover .akira-episode-nav-synopsis {
    font-size: 11px;
    line-height: 1.35;
  }

  .akira-thumb-image {
    width: var(--akira-hover-thumb-width) !important;
    aspect-ratio: 16 / 9 !important;
    height: auto !important;
  }

  .akira-thumb-time {
    font-size: 11px;
    padding: 7px 8px;
  }

  .akira-icon-btn.episodeStepBtn img {
    width: 22px !important;
  }
}

/* Hard overrides anti-reglas viejas */
.akira-thumb-image,
.akira-thumb-image img,
.akira-episode-step-popover .akira-episode-nav-thumb,
.akira-episode-step-popover .akira-episode-nav-thumb img {
  max-height: none !important;
}